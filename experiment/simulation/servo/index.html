<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Virtual IoT Lab DEI – Servo Motor</title>
  <link rel="icon" href="https://www.vlab.co.in/images/logo.jpg" type="image/x-icon" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/theme/monokai.min.css" />
  <link rel="stylesheet" type="text/css" href="src/css/style.css" />
</head>

<body>
  <div class="container">

    <!-- ===== LEFT: Servo Visualiser ===== -->
    <div class="if-vid">
      <p class="p-head">Interfacing Servo Motor with Arduino:</p>

      <div class="servo-wrapper">
        <svg id="servoSVG" viewBox="20 5 465 480" xmlns="http://www.w3.org/2000/svg"></svg>

        <!-- <div class="angle-badge"> -->
        <!-- <span id="liveAngle">0</span><span class="deg-sym">°</span>
          <span class="angle-label">Current Angle</span> -->
        <!-- </div> -->
      </div>
    </div>

    <!-- ===== RIGHT: Instructions + Code ===== -->
    <div class="right-panel">

      <!-- Instructions -->
      <div class="instruction-box">
        <h3 class="box-title">Instructions</h3>
        <div class="instruction-content">
          <div class="instruction-section">
            <h4>Objective:</h4>
            <p>Learn how to control a servo motor using Arduino to create precise angular movements between 0 and 180
              degrees.</p>
          </div>
          <div class="instruction-section">
            <h4>Steps to Perform:</h4>
            <ol>
              <li>In the Arduino code, modify the <strong>angle</strong> value on line 1 (0–180)</li>
              <li>Click <strong>"Run Code"</strong> to start the simulation</li>
              <li>The servo motor will sweep from <strong>0°</strong> to your specified angle and back continuously</li>
              <li>You can change the angle value and click <strong>"Run Code"</strong> again to update</li>
              <li>Click <strong>"Stop"</strong> to halt the servo at any time</li>
              <li>Valid range: <strong>0°</strong> (far left) to <strong>180°</strong> (far right)</li>
            </ol>
          </div>
          <div class="instruction-section">
            <h4>Key Concepts:</h4>
            <ul>
              <li><strong>Servo Motor:</strong> Motor that can rotate to precise angles (0–180°)</li>
              <li><strong>Servo Library:</strong> Arduino library for easy servo control with <strong>Servo.h</strong>
              </li>
              <li><strong>Pin 11:</strong> Digital pin connected to servo control signal wire</li>
              <li><strong>servo.attach():</strong> Connects servo object to specified pin in setup()</li>
              <li><strong>servo.write(angle):</strong> Positions servo to specified angle in degrees</li>
              <li><strong>Angle Control:</strong> Change the angle parameter (0–180) to control position</li>
              <li><strong>Real-time Control:</strong> Run your code to instantly see servo movement</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Code Editor -->
      <div class="code-box">
        <div class="code-box-header">
          <span class="box-title">Arduino Code — main.ino</span>
          <div class="code-actions">
            <!-- <div class="speed-wrap">
              <label class="speed-lbl">Speed</label>
              <input id="speedSlider" type="range" min="1" max="100" value="10" class="speed-slider" />
              <span id="speedLabel" class="speed-val">10x</span>
            </div> -->
            <button class="control-btn start-btn" id="startBtn" onclick="changePower();">
              <span class="play-icon">▶</span> Run Code
            </button>
          </div>
        </div>

        <div id="errorMsg" class="error-msg" style="display:none;"></div>

        <div class="code-content">
          <textarea id="arduinoCode">int angle = 90;

#include &lt;Servo.h&gt;

int servoPin = 11;
int pos = 0;
Servo servo;

void setup()
{
  servo.attach(servoPin);
}

void loop()
{
  for(pos = 0; pos &lt;= angle; pos++)
  {
    servo.write(pos);
    delay(15);
  }
  for(pos = angle; pos &gt;= 0; pos--)
  {
    servo.write(pos);
    delay(15);
  }
}</textarea>
        </div>
      </div>

    </div><!-- end right-panel -->
  </div><!-- end container -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/clike/clike.js"></script>
  <script type="text/javascript" src="src/js/main.js"></script>
</body>

</html>